
@{
    ViewBag.Title = "SurveyData";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
}

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js" type="text/javascript"></script>



<link href="http://162.13.221.18/ef/Scripts/DataTable//dataTables.bootstrap.min.css" rel="stylesheet" />


<script src="http://162.13.221.18/ef//Scripts/DataTable//jquery.dataTables.min.js"></script>
<script src="http://162.13.221.18/ef//Scripts/DataTable//dataTables.bootstrap4.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.4.1.min.js"></script>
<script src="http://162.13.221.18/ef//Scripts/DataTable/angular-datatables.js"></script>


<script type="text/javascript">


    var app = angular.module('MyApp', ['datatables'])
    app.controller('MyController', function ($scope, $window, $http, $location, DTOptionsBuilder) {

        $scope.dtInstance = {};
        $scope.dtOptions = DTOptionsBuilder.newOptions()
       .withDisplayLength(10)
       .withOption('bLengthChange', true)
       .withOption('bFilter', true)
       .withOption('bInfo', true)
       .withLanguage({ "sEmptyTable": "No data available" })
        $scope.u = {};
        $scope.dtInstance = {};





        $scope.ORGID = 1;
        var emailPattern = /^([a-zA-Z0-9])+([a-zA-Z0-9._%+-])+@@([a-zA-Z0-9_.-])+\.(([a-zA-Z]){2,6})$/;



        $scope.init = function () {
            $http({
                url: '@Url.Content("~/api/GetSurveyList")',
                method: "GET",
                params: { UserID: 1 }
            })
        .then(function (response) {
            console.log(JSON.parse(response.data));
            $scope.SurveyList = JSON.parse(response.data);

            $('#tbl1').DataTable();

        });
        }




    });
</script>



@*ng-model-options="{ updateOn: 'blur' }"*@

<div class="panel panel-default">
    <div class="panel-heading"><strong>Survey Data</strong> </div>
    <div class="panel-body" ng-app="MyApp" ng-controller="MyController" ng-init="init()">



        <div class="row">

            <div class="form-group">
                <div class="col-md-12 table-responsive">
                    <!-- datatable="ng" dt-options="dtOptions" dt-instance="dtInstance" dt-columns="dtColumns"
                      <table class="table-bordered" style="width:100%" id="tbl1">
                          <thead>
                              <tr class="thead-primary">
                                  <th>ID</th>
                                  <th>Row_ID</th>
                                  <th>Party_ID</th>
                                  <th>Survey_ID</th>
                                  <th>State_ID</th>
                                  <th>LokSabha_ID</th>
                                  <th>VidhanSabha_ID</th>
                                  <th>Word_ID</th>
                                  <th>Booth_ID</th>
                                  <th>Area_ID</th>
                                  <th>OtherArea</th>
                                  <th>GPSCoordinate</th>
                                  <th>SurveyDate</th>
                                  <th>User_ID</th>
                                  <th>CreatedDate</th>
                                  <th></th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr ng-repeat="m in SurveyList  track by $index">
                                  <td>{{m.ID}}</td>
                                  <td>{{m.Row_ID}}</td>
                                  <td>{{m.Party_ID}}</td>

                                  <td>{{m.Survey_ID}}</td>
                                  <td>{{m.State_ID}}</td>
                                  <td>{{m.LokSabha_ID}}</td>
                                  <td>{{m.VidhanSabha_ID}}</td>
                                  <td>{{m.Word_ID}}</td>
                                  <td>{{m.Booth_ID}}</td>
                                  <td>{{m.Area_ID}}</td>
                                  <td>{{m.OtherArea}}</td>
                                  <td>{{m.GPSCoordinate}}</td>
                                  <td>{{m.SurveyDate}}</td>
                                  <td>{{m.User_ID}}</td>
                                  <td>{{m.CreatedDate}}</td>

                                  <td>


                                      <a href="#" class="btn btn-info" role="button">
                                          <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>

                                          View
                                      </a>
                                  </td>
                              </tr>
                          </tbody>
                      </table>
                    -->


                    <table class="table-bordered" style="width:100%" id="tbl1">
                        <thead>
                            <tr class="thead-primary">
                                <th>S.No</th>
                                <th>UserName</th>
                                <th>SurveyName</th>
                                <th>PartyName</th>
                                <th>StateName</th>
                                <th>LokSabhaName</th>
                                <th>VidhansabhaName</th>
                                <th>WardBlock</th>
                                <th>Area</th>
                                <th>OtherArea</th>
                                <th>GPSCoordinate</th>
                                <th>SurveyDate</th>
                                <th>PostDate</th>
                                <th>Street</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="m in SurveyList  track by $index">
                                <td>{{$index+1}}</td>
                                <td>{{m.UserName}}</td>
                                <td>{{m.SurveyName}}</td>
                                <td>{{m.PartyName}}</td>
                                <td>{{m.StateName}}</td>
                                <td>{{m.LokSabhaName}}</td>
                                <td>{{m.VidhansabhaName}}</td>
                                <td>{{m.WardBlock}}</td>
                                <td>{{m.Area}}</td>
                                <td>{{m.OtherArea}}</td>
                                <td>{{m.GPSCoordinate}}</td>
                                <td>{{m.SurveyDate}}</td>
                                <td>{{m.PostDate}}</td>
                                <td>{{m.Street}}</td>



                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>

    </div>
</div>

<style>
    #tbl1 {
        font-family: Verdana, Geneva, sans-serif;
        font-size: 12px;
        border-width: 1px;
        border-color: #999999;
        border-collapse: collapse;
        width: 99% !important;
        max-width: 99% !important;
    }

        #tbl1 th {
            border-width: 1px;
            padding: 8px;
            /*color: #ffffff;*/
            border-style: solid;
            border-color: #eeeeee;
            /*background-color: #428bca !important;*/
        }

        #tbl1 td {
            border-width: 1px;
            padding: 4px;
            border-style: solid;
            border-color: #eeeeee;
        }

        #tbl1 tbody tr:hover {
            cursor: pointer !important;
            background-color: #eeeeee;
        }
</style>

